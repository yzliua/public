window.__require=function e(t,n,o){function r(a,c){if(!n[a]){if(!t[a]){var s=a.split("/");if(s=s[s.length-1],!t[s]){var u="function"==typeof __require&&__require;if(!c&&u)return u(s,!0);if(i)return i(s,!0);throw new Error("Cannot find module '"+a+"'")}a=s}var l=n[a]={exports:{}};t[a][0].call(l.exports,function(e){return r(t[a][1][e]||e)},l,l.exports,e,t,n,o)}return n[a].exports}for(var i="function"==typeof __require&&__require,a=0;a<o.length;a++)r(o[a]);return r}({AudioPlayer:[function(e,t,n){"use strict";cc._RF.push(t,"b2d12pZCaNNoZZsKhTpKhcq","AudioPlayer"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){}return Object.defineProperty(e,"masterVolume",{get:function(){return this._masterVolume},enumerable:!1,configurable:!0}),Object.defineProperty(e,"musicVolume",{get:function(){return this._musicVolume},enumerable:!1,configurable:!0}),Object.defineProperty(e,"effectVolume",{get:function(){return this._effectVolume},enumerable:!1,configurable:!0}),e.setMasterVolume=function(e){e<0?e=0:e>1&&(e=1),this._masterVolume=e,this.setMusicVolume(this._musicVolume),this.setEffectVolume(this._effectVolume)},e.setVolume=function(e){this.setMusicVolume(e),this.setEffectVolume(e)},e.setMusicVolume=function(e){e<0?e=0:e>1&&(e=1),this._musicVolume=e;var t=this._masterVolume*e;this._music.forEach(function(e){return cc.audioEngine.setVolume(e,t)})},e.setEffectVolume=function(e){e<0?e=0:e>1&&(e=1),this._effectVolume=e;var t=this._masterVolume*e;this._effect.forEach(function(e,n){return cc.audioEngine.setVolume(n,t)})},e.playMusic=function(e){this._music.has(e)&&this.stopMusic(e);var t=cc.audioEngine.play(e,!0,this._masterVolume*this._musicVolume);this._music.set(e,t)},e.stopMusic=function(e){this._music.has(e)&&(cc.audioEngine.stop(this._music.get(e)),this._music.delete(e))},e.stopAllMusic=function(){var e=this;this._music.forEach(function(t,n){return e.stopMusic(n)})},e.pauseMusic=function(e){this._music.has(e)&&cc.audioEngine.pause(this._music.get(e))},e.pauseAllMusic=function(){var e=this;this._music.forEach(function(t,n){return e.pauseMusic(n)})},e.resumeMusic=function(e){this._music.has(e)&&cc.audioEngine.resume(this._music.get(e))},e.resumeAllMusic=function(){var e=this;this._music.forEach(function(t,n){return e.resumeMusic(n)})},e.playEffect=function(e,t){var n=this,o=cc.audioEngine.play(e,t,this._masterVolume*this._effectVolume);this._effect.set(o,e),t||cc.audioEngine.setFinishCallback(o,function(){return n._effect.delete(o)})},e.stopEffect=function(e){var t=this;this._effect.forEach(function(n,o){n===e&&(cc.audioEngine.stop(o),t._effect.delete(o))})},e.stopAllEffect=function(){var e=this;this._effect.forEach(function(t,n){cc.audioEngine.stop(n),e._effect.delete(n)})},e.pauseEffect=function(e){this._effect.forEach(function(t,n){return t===e&&cc.audioEngine.pause(n)})},e.pauseAllEffect=function(){this._effect.forEach(function(e,t){return cc.audioEngine.pause(t)})},e.resumeEffect=function(e){this._effect.forEach(function(t,n){return t===e&&cc.audioEngine.resume(n)})},e.resumeAllEffect=function(){this._effect.forEach(function(e,t){return cc.audioEngine.resume(t)})},e.stopAll=function(){this.stopAllMusic(),this.stopAllEffect()},e.pauseAll=function(){this.pauseAllMusic(),this.pauseAllEffect()},e.resumeAll=function(){this.resumeAllMusic(),this.resumeAllEffect()},e.mute=function(){this.setMasterVolume(0)},e._music=new Map,e._effect=new Map,e._masterVolume=1,e._musicVolume=1,e._effectVolume=1,e}();n.default=o,cc._RF.pop()},{}],CustomEventType:[function(e,t,n){"use strict";cc._RF.push(t,"c6af23E9rhFp43Oq8oDuEUC","CustomEventType"),Object.defineProperty(n,"__esModule",{value:!0}),n.CustomEventType=void 0,function(e){e.game_pause="game_pause",e.game_resume="game_resume",e.game_use_item="game_use_item",e.game_item_remove_car="game_item_remove_car"}(n.CustomEventType||(n.CustomEventType={})),cc._RF.pop()},{}],DebugUtil:[function(e,t,n){"use strict";cc._RF.push(t,"443c0HZOJxHiadWuJBZmIbO","DebugUtil");var o=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var o=Array(e),r=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,c=i.length;a<c;a++,r++)o[r]=i[a];return o};Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(){}return e.log=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r="%c "+e+" ",i=["background: #35495E;padding: 1px;border-radius: 2px 0 0 2px;color: #fff;"];t.forEach(function(e){r+="%c "+e+" ",i.push("background: #409EFF;padding: 1px;border-radius: 0 2px 2px 0;color: #fff;")}),console.log.apply(console,o([r],i))},e.showDynamicAtlas=function(e){return void 0===e&&(e=!0),cc.dynamicAtlasManager.showDebug(e)},e.showStats=function(e){void 0===e&&(e=!0),cc.debug.setDisplayStats(e)},e.setStatsColor=function(e,t){void 0===e&&(e=cc.Color.WHITE),void 0===t&&(t=cc.color(0,0,0,150));var n=cc.find("PROFILER-NODE");if(!n)return cc.warn("\u672a\u627e\u5230\u7edf\u8ba1\u9762\u677f\u8282\u70b9\uff01");n.children.forEach(function(t){return t.color=e});var o=n.getChildByName("BACKGROUND");o||(o=new cc.Node("BACKGROUND"),n.addChild(o,cc.macro.MIN_ZINDEX),o.setContentSize(n.getBoundingBoxToWorld()),o.setPosition(0,0));var r=o.getComponent(cc.Graphics)||o.addComponent(cc.Graphics);r.clear(),r.rect(-5,12.5,o.width+10,o.height-10),r.fillColor=t,r.fill()},e.getDrawCalls=function(){return cc.renderer.drawCalls},e}();n.default=r,cc._RF.pop()},{}],Entry:[function(e,t,n){"use strict";cc._RF.push(t,"6051ehtM/BHBpGJUoMw4bFd","Entry");var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=e("../core/PopupManager"),c=e("../core/SceneNavigator"),s=e("../core/components/LoadingTip"),u=cc._decorator,l=u.ccclass,p=u.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.layers=null,t.popupLayer=null,t}return r(t,e),t.prototype.start=function(){cc.game.addPersistRootNode(this.layers),a.default.container=this.popupLayer,a.default.loadStartCallback=function(){return s.default.show()},a.default.loadFinishCallback=function(){return s.default.hide()},c.default.setHome("Main"),c.default.go("Main")},i([p(cc.Node)],t.prototype,"layers",void 0),i([p(cc.Node)],t.prototype,"popupLayer",void 0),i([l],t)}(cc.Component);n.default=f,cc._RF.pop()},{"../core/PopupManager":"PopupManager","../core/SceneNavigator":"SceneNavigator","../core/components/LoadingTip":"LoadingTip"}],EventManager:[function(e,t,n){"use strict";cc._RF.push(t,"a67f1DzePlACZtKv9aCEgez","EventManager"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){}return e.on=function(e,t,n){var o=this.events;o.has(e)?o.get(e).push({callback:t,target:n}):o.set(e,[{callback:t,target:n}])},e.once=function(e,t,n){var o=this.onceEvents;o.has(e)?o.get(e).push({callback:t,target:n}):o.set(e,[{callback:t,target:n}])},e.off=function(e,t,n){var o=this.events.get(e);if(o)for(var r=0,i=o.length;r<i;r++)if(this.compare(o[r],t,n)){o.splice(r,1),0===o.length&&this.events.delete(e);break}var a=this.onceEvents.get(e);if(a)for(r=0,i=a.length;r<i;r++)if(this.compare(a[r],t,n)){a.splice(r,1),0===a.length&&this.onceEvents.delete(e);break}},e.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var o=this.events.get(e);if(o)for(var r=0;r<o.length;r++){var i=o[r],a=i.callback,c=i.target;a.apply(c,t)}var s=this.onceEvents.get(e);if(s){for(r=0;r<s.length;r++){var u=s[r];a=u.callback,c=u.target,a.apply(c,t)}this.onceEvents.delete(e)}},e.offAllThis=function(e){var t=this;this.events.forEach(function(n,o){for(var r=0,i=n.length;r<i;r++)if(n[r].target==e){n.splice(r,1),0===n.length&&t.events.delete(o);break}}),this.onceEvents.forEach(function(n,o){for(var r=0,i=n.length;r<i;r++)if(n[r].target==e){n.splice(r,1),0===n.length&&t.onceEvents.delete(o);break}})},e.remove=function(e){this.events.has(e)&&this.events.delete(e),this.onceEvents.has(e)&&this.onceEvents.delete(e)},e.removeAll=function(){this.events.clear(),this.onceEvents.clear()},e.compare=function(e,t,n){var o=e.callback;return e.target===n&&(o===t||o.toString()===t.toString())},e.events=new Map,e.onceEvents=new Map,e}();n.default=o,cc._RF.pop()},{}],GameCancel:[function(e,t,n){"use strict";cc._RF.push(t,"56361eJOMtBPbwJJtidA7a7","GameCancel");var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(r,i){function a(e){try{s(o.next(e))}catch(t){i(t)}}function c(e){try{s(o.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,c)}s((o=o.apply(e,t||[])).next())})},c=this&&this.__generator||function(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(e){return function(t){return s([e,t])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../core/EventManager"),u=e("../../core/SceneNavigator"),l=e("../../core/components/popups/PopupBase"),p=e("../CustomEventType"),f=cc._decorator,h=f.ccclass,d=(f.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.onClickCancelBtn=function(){this.hide(null,0),u.default.goHome()},t.prototype.onClickContinue=function(){this.hide()},t.prototype.onBeforeShow=function(){return a(this,void 0,Promise,function(){return c(this,function(){return s.default.emit(p.CustomEventType.game_pause),[2]})})},t.prototype.onAfterHide=function(){s.default.emit(p.CustomEventType.game_resume)},t.Path="popups/GameCancel",i([h],t)}(l.default));n.default=d,cc._RF.pop()},{"../../core/EventManager":"EventManager","../../core/SceneNavigator":"SceneNavigator","../../core/components/popups/PopupBase":"PopupBase","../CustomEventType":"CustomEventType"}],GameCarMng:[function(e,t,n){"use strict";cc._RF.push(t,"0ca62AVMhdGRYuh4C+di48r","GameCarMng");var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,u=e("./GameCar"),l=e("./GameUtils"),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.carPrefab=null,t.outNode=null,t._carPool=null,t}return r(t,e),t.prototype.onLoad=function(){this._carPool=new cc.NodePool;for(var e=0;e<10;e++)this._carPool.put(cc.instantiate(this.carPrefab))},t.prototype.update=function(){for(var e=this.outNode.getBoundingBoxToWorld(),t=0,n=this.node.children;t<n.length;t++){var o=n[t],r=o.convertToWorldSpaceAR(new cc.Vec2);e.contains(r)||this.removeCar(o)}},t.prototype.startGame=function(e){var t=this;this.node.removeAllChildren(),e.carList.forEach(function(e){t.createCar(e)})},t.prototype.createCar=function(e){var t=null;return(t=this._carPool.size()>0?this._carPool.get():cc.instantiate(this.carPrefab)).getComponent(u.default).setData(e),this.node.addChild(t),t.on(cc.Node.EventType.TOUCH_START,this.onCarTouch,this),t},t.prototype.removeCar=function(e){e.getComponent(u.default).backToPool(),e.off(cc.Node.EventType.TOUCH_START,this.onCarTouch,this),this._carPool.put(e)},t.prototype.onCarTouch=function(e){var t=this,n=e.currentTarget.getComponent(u.default);if(!n.isMoveOutIng){var o=n.data,r=this.getPointList();r.sort(function(e){return e.sub(o.head).mag()-e.sub(o.head).mag()});var i=this.outNode.getBoundingBoxToWorld(),a=o.head.sub(o.body).normalize(),c=o.head.clone(),s=[],p=!1,f=function(){for(var e=c.add(a),n=0,o=r;n<o.length;n++)if(o[n].equals(e))return;var u=l.GameUtil.parseGameCarData({head:e,body:c}),h=t.node.convertToWorldSpaceAR(new cc.Vec2(u.x,u.y));s.push(e),i.contains(h)?(c=e,f()):p=!0};f(),s.length>0?n.playMove({head:s[s.length-1],body:1==s.length?o.head:s[s.length-2]},p):n.playNotMove()}},t.prototype.getPointList=function(){var e=[];return this.node.children.forEach(function(t){var n=t.getComponent(u.default);n.isMoveOutIng||(e.push(n.data.head),e.push(n.data.body))}),e},t.prototype.getCarCount=function(){var e=0;return this.node.children.forEach(function(t){t.getComponent(u.default).isMoveOutIng||e++}),e},t.prototype.getCarList=function(){var e=[];return this.node.children.forEach(function(t){var n=t.getComponent(u.default);n.isMoveOutIng||e.push(n.data)}),e},i([s(cc.Prefab)],t.prototype,"carPrefab",void 0),i([s(cc.Node)],t.prototype,"outNode",void 0),i([c],t)}(cc.Component);n.default=p,cc._RF.pop()},{"./GameCar":"GameCar","./GameUtils":"GameUtils"}],GameCar:[function(e,t,n){"use strict";cc._RF.push(t,"d8075V+UoxOV5BGP1DwnAoZ","GameCar");var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=e("./GameUtils"),c=cc._decorator,s=c.ccclass,u=c.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.moveSpeed=500,t.data=null,t.isMoveOutIng=!1,t}return r(t,e),t.prototype.setData=function(e){this.data=e;var t=a.GameUtil.parseGameCarData(e);this.node.x=t.x,this.node.y=t.y,this.node.angle=t.angle},t.prototype.backToPool=function(){console.log("on car backToPool"),this.node.removeFromParent(),this.isMoveOutIng=!1,this.node.resumeSystemEvents(!0)},t.prototype.playMove=function(e,t){var n=this;console.log("GameCar playMove"),t&&(this.isMoveOutIng=!0),this.data=e;var o=a.GameUtil.parseGameCarData(e),r=new cc.Vec2(this.node.x,this.node.y),i=new cc.Vec2(o.x,o.y),c=i.sub(r).mag()/this.moveSpeed;this.node.pauseSystemEvents(!0),cc.tween(this.node).to(c,{x:i.x,y:i.y}).call(function(){t||(n.playStop(),n.node.resumeSystemEvents(!0))}).start()},t.prototype.playNotMove=function(){console.log("GameCar playNotMove")},t.prototype.playStop=function(){console.log("GameCar playStop")},i([u],t.prototype,"moveSpeed",void 0),i([s],t)}(cc.Component);n.default=l,cc._RF.pop()},{"./GameUtils":"GameUtils"}],GameChoseCarRemove:[function(e,t,n){"use strict";cc._RF.push(t,"15e90BXn0xJgp/TcvmC9m+O","GameChoseCarRemove");var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../core/EventManager"),c=e("../../core/components/popups/PopupBase"),s=e("../CustomEventType"),u=e("../game/GameCar"),l=cc._decorator,p=l.ccclass,f=l.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.carPrefab=null,t.carNode=null,t}return r(t,e),t.prototype.updateDisplay=function(){var e=this;this.options.carList.forEach(function(t,n){var o=cc.instantiate(e.carPrefab);o.getComponent(u.default).setData(t),e.carNode.addChild(o),o.on(cc.Node.EventType.TOUCH_START,function(){o.removeFromParent(),e.options.carList.splice(n,1),e.hide(),a.default.emit(s.CustomEventType.game_item_remove_car,e.options.carList)},e)})},t.Path="popups/GameChoseCarRemove",i([f(cc.Prefab)],t.prototype,"carPrefab",void 0),i([f(cc.Node)],t.prototype,"carNode",void 0),i([p],t)}(c.default);n.default=h,cc._RF.pop()},{"../../core/EventManager":"EventManager","../../core/components/popups/PopupBase":"PopupBase","../CustomEventType":"CustomEventType","../game/GameCar":"GameCar"}],GameDataGen:[function(e,t,n){"use strict";cc._RF.push(t,"182c2ohXhdFGaEVK+6huzlH","GameDataGen"),Object.defineProperty(n,"__esModule",{value:!0}),n.GameDataGen=void 0;var o=e("./GameUtils"),r=function(){function e(){}return e.prototype.createGameData=function(e,t,n,r){console.time("GameDataGen createGameData");for(var i=Math.max(e,t)/2,a=o.GameUtil.offsetRadian,c=o.GameUtil.gridW,s=-Math.floor(i/Math.acos(a)/c),u=Math.floor(i/Math.acos(a)/c),l=-Math.floor(i/Math.asin(a)/c),p=Math.floor(i/Math.asin(a)/c),f=cc.v2(0,0),h={},d=s;d<=u;d++){h[d]={};for(var m=l;m<=p;m++)h[d][m]=!0}for(var y=function(){var e=[];for(var t in h)for(var n in h[t])h[t][n]&&e.push(cc.v2(parseInt(t),parseInt(n)));return e.sort(function(e,t){return e.sub(f).mag()-t.sub(f).mag()}),e},v=function(e,t){if(!h[e.x][e.y])return null;if(!h[t.x][t.y])return null;for(var n=e.clone();!n.equals(t);){var o=t.sub(n).normalize(),r=n.add(o);if(!h[r.x][r.y])return null;n=r}var i;return(i=e.y==t.y?t.x>e.x?cc.v2(e.x+1,e.y):cc.v2(e.x-1,e.y):t.y>e.y?cc.v2(e.x,e.y+1):cc.v2(e.x,e.y-1)).x<s||i.x>u||i.y<l||i.y>p?null:h[i.x][i.y]?(h[i.x][i.y]=!1,h[e.x][e.y]=!1,{head:i,body:e.clone()}):null},_=function(e){var t=[cc.v2(e.x,l),cc.v2(s,e.y),cc.v2(e.x,p),cc.v2(u,e.y)];Math.random()>.5&&(t=t.reverse());for(var n=0,o=t;n<o.length;n++){var r=o[n],i=v(e,r);if(i)return i}return h[e.x][e.y]=!1,null},g=[],b=Math.floor(u*p);b>0;){var P=y();if(!P||0==P.length)break;var w=_(P[0]);w&&(g.push(w),b--)}for(var M=Math.floor(g.length/3);M>0;){var O=Math.floor(Math.random()*g.length);if(-1==O)break;g.splice(O,1),M--}return g=g.filter(function(n){var r=o.GameUtil.parseGameCarData(n);return!(r.x<=-e/2||r.x>=e/2||r.y<=-t/2||r.y>=t/2)}),console.timeEnd("GameDataGen createGameData"),this.logCardList(s,u,l,p,g),{time:n,carList:g,unlockItem:r}},e.prototype.logCardList=function(e,t,n,o,r){var i={};r.forEach(function(e,t){for(var n=t+"";n.length<3;)n="0"+n;i[e.head.x+"_"+e.head.y]="H"+n,i[e.body.x+"_"+e.body.y]="B"+n});for(var a="",c=o;c>=n;c--){for(var s=e;s<=t;s++){a+=i[s+"_"+c]||"****",a+=" "}a+="\n"}console.log(a)},e}();n.GameDataGen=r,cc._RF.pop()},{"./GameUtils":"GameUtils"}],GameLose:[function(e,t,n){"use strict";cc._RF.push(t,"0ff1drPPdZDab20k7Yn8zgP","GameLose");var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../core/components/popups/PopupBase"),c=cc._decorator,s=c.ccclass,u=(c.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.Path="popups/GameLose",i([s],t)}(a.default));n.default=u,cc._RF.pop()},{"../../core/components/popups/PopupBase":"PopupBase"}],GameModel:[function(e,t,n){"use strict";cc._RF.push(t,"6b7b64xD8hF5KMqYmhRFLan","GameModel"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./GameDataGen"),r=function(){function e(e,t){this._gameDateGen=new o.GameDataGen,this.level=1,this._w=e,this._h=t}return e.prototype.startLevel1=function(){this.level=1,this.gameData=this._gameDateGen.createGameData(this._w/2,this._h/2);for(var e=Math.floor(this.gameData.carList.length/3);e>0;){var t=Math.floor(Math.random()*this.gameData.carList.length);if(-1==t)break;this.gameData.carList.splice(t,1),e--}},e.prototype.startLevel2=function(){this.level=2,this.gameData=this._gameDateGen.createGameData(this._w,this._h,180,!0);for(var e=Math.floor(this.gameData.carList.length/3);e>0;){var t=Math.floor(Math.random()*this.gameData.carList.length);if(-1==t)break;this.gameData.carList.splice(t,1),e--}},e.prototype.useItem3=function(e,t){1==this.level?this.startLevel1():this.startLevel2(),this.gameData.time=t,this.gameData.carList=this.gameData.carList.slice(0,this.gameData.carList.length-e)},e}();n.default=r,cc._RF.pop()},{"./GameDataGen":"GameDataGen"}],GameSetting:[function(e,t,n){"use strict";cc._RF.push(t,"36702obb5xI74NpGtC9jSQg","GameSetting");var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(r,i){function a(e){try{s(o.next(e))}catch(t){i(t)}}function c(e){try{s(o.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,c)}s((o=o.apply(e,t||[])).next())})},c=this&&this.__generator||function(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(e){return function(t){return s([e,t])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../core/EventManager"),u=e("../../core/PopupManager"),l=e("../../core/components/popups/PopupBase"),p=e("../CustomEventType"),f=e("../data/PlayerModel"),h=e("./GameCancel"),d=cc._decorator,m=d.ccclass,y=d.property,v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.musicToggle=null,t.effectToggle=null,t.shockToggle=null,t}return r(t,e),t.prototype.onClickCancelBtn=function(){this.hide(),u.default.show(h.default.Path)},t.prototype.onClickClose=function(){this.hide()},t.prototype.onBeforeShow=function(){return a(this,void 0,Promise,function(){return c(this,function(){return s.default.emit(p.CustomEventType.game_pause),[2]})})},t.prototype.onAfterHide=function(){s.default.emit(p.CustomEventType.game_resume)},t.prototype.updateDisplay=function(){this.musicToggle.isChecked=f.default.ins.setting.music,this.effectToggle.isChecked=f.default.ins.setting.effect,this.shockToggle.isChecked=f.default.ins.setting.shock},t.prototype.onClickToggle=function(e,t){f.default.ins.setting[t]=!f.default.ins.setting[t],this.updateDisplay()},t.Path="popups/GameSetting",i([y(cc.Toggle)],t.prototype,"musicToggle",void 0),i([y(cc.Toggle)],t.prototype,"effectToggle",void 0),i([y(cc.Toggle)],t.prototype,"shockToggle",void 0),i([m],t)}(l.default);n.default=v,cc._RF.pop()},{"../../core/EventManager":"EventManager","../../core/PopupManager":"PopupManager","../../core/components/popups/PopupBase":"PopupBase","../CustomEventType":"CustomEventType","../data/PlayerModel":"PlayerModel","./GameCancel":"GameCancel"}],GameUseItem:[function(e,t,n){"use strict";cc._RF.push(t,"e0aedGaX/VMAIEB3szIfWlj","GameUseItem");var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../core/EventManager"),c=e("../../core/components/popups/PopupBase"),s=e("../CustomEventType"),u=cc._decorator,l=u.ccclass,p=u.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iconSprite=null,t.tipSprite=null,t.titleSprite=null,t.needSprite=null,t}return r(t,e),t.prototype.onBeforeShow=function(){var e=this;return a.default.emit(s.CustomEventType.game_pause),new Promise(function(t){var n=["game/item/item_"+e.options.itemId,"game/item/item_tip"+e.options.itemId,"game/item/item_title"+e.options.itemId,"game/item/item_need_"+(e.options.isShare?"share":"ad")];cc.loader.loadResArray(n,cc.SpriteFrame,function(n,o){if(n)return console.error(n),void t();e.iconSprite.spriteFrame=o[0],e.tipSprite.spriteFrame=o[1],e.titleSprite.spriteFrame=o[2],e.needSprite.spriteFrame=o[3],t()})})},t.prototype.onClickClose=function(){a.default.emit(s.CustomEventType.game_resume),this.hide()},t.prototype.onClickGetItem=function(){this.hide(),a.default.emit(s.CustomEventType.game_use_item,this.options.itemId)},t.Path="popups/GameUseItem",i([p(cc.Sprite)],t.prototype,"iconSprite",void 0),i([p(cc.Sprite)],t.prototype,"tipSprite",void 0),i([p(cc.Sprite)],t.prototype,"titleSprite",void 0),i([p(cc.Sprite)],t.prototype,"needSprite",void 0),i([l],t)}(c.default);n.default=f,cc._RF.pop()},{"../../core/EventManager":"EventManager","../../core/components/popups/PopupBase":"PopupBase","../CustomEventType":"CustomEventType"}],GameUtils:[function(e,t,n){"use strict";cc._RF.push(t,"dc815LdajpJH7czqlFBPSzq","GameUtils"),Object.defineProperty(n,"__esModule",{value:!0}),n.GameUtil=void 0;var o=function(){function e(){}return e.parseGameCarData=function(e){var t=e.head.sub(e.body);t.y=-t.y;var n=(t.signAngle(cc.v2(1,0))-this.offsetRadian)/Math.PI*180,o=(e.head.x+e.body.x)/2,r=(e.head.y+e.body.y)/2,i=o*this.gridW+.5*this.gridW,a=r*this.gridW+.5*this.gridW;return{x:i*Math.cos(this.offsetRadian)+a*Math.sin(this.offsetRadian),y:a*Math.cos(this.offsetRadian)-i*Math.sin(this.offsetRadian),angle:n}},e.gridW=40,e.offsetRadian=Math.PI/4,e}();n.GameUtil=o,cc._RF.pop()},{}],GameWin:[function(e,t,n){"use strict";cc._RF.push(t,"f6d6aZt2iFHwpw485HlSJQ/","GameWin");var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../core/components/popups/PopupBase"),c=cc._decorator,s=c.ccclass,u=(c.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.Path="popups/GameWin",i([s],t)}(a.default));n.default=u,cc._RF.pop()},{"../../core/components/popups/PopupBase":"PopupBase"}],Game:[function(e,t,n){"use strict";cc._RF.push(t,"f8e33cvSPFBib6lpD5+/tep","Game");var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a,c=e("./GameCarMng"),s=e("../../core/PopupManager"),u=e("../popups/GameWin"),l=e("../popups/GameLose"),p=e("../popups/GameSetting"),f=e("../../core/EventManager"),h=e("../CustomEventType"),d=e("../popups/GameUseItem"),m=e("../popups/GameChoseCarRemove"),y=e("./GameModel"),v=cc._decorator,_=v.ccclass,g=v.property,b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.carMng=null,t.timeLab=null,t.itemsNode=null,t._model=null,t._state=null,t._leftTime=null,t._lastTime=0,t}return r(t,e),t.prototype.start=function(){var e=this;this._model=new y.default(this.carMng.node.width,this.carMng.node.height),this._model.startLevel1(),this.gotoState(a.start),f.default.on(h.CustomEventType.game_pause,function(){e.gotoState(a.pause)},this),f.default.on(h.CustomEventType.game_resume,function(){e._state==a.pause&&e.gotoState(a.run)},this),f.default.on(h.CustomEventType.game_use_item,function(t){switch(+t){case 1:s.default.show(m.default.Path,{carList:e.carMng.getCarList()});break;case 2:e._leftTime+=30,e.gotoState(a.run);break;case 3:e._model.useItem3(e.carMng.getCarCount(),e._leftTime),e.gotoState(a.start)}},this),f.default.on(h.CustomEventType.game_item_remove_car,function(t){e._model.gameData.carList=t,e.gotoState(a.start)},this)},t.prototype.onDestroy=function(){f.default.offAllThis(this)},t.prototype.update=function(e){switch(this._state){case a.run:if(0==this.carMng.getPointList().length){this.gotoState(a.win);break}null!=this._leftTime&&(this._lastTime+=e,this._lastTime>=1&&(this._lastTime=0,this._leftTime--,this._leftTime>=0?this.timeLab.string="\u5269\u4f59\u65f6\u95f4"+this._leftTime+"\u79d2":this.gotoState(a.lose)))}},t.prototype.gotoState=function(e){switch(this._state=e,e){case a.start:this._model.gameData.time?(this._leftTime=this._model.gameData.time,this.timeLab.string="\u5269\u4f59\u65f6\u95f4"+this._leftTime+"\u79d2",this.timeLab.node.active=!0):(this._leftTime=null,this.timeLab.node.active=!1),this.itemsNode.active=!!this._model.gameData.unlockItem,this.carMng.startGame(this._model.gameData),this.gotoState(a.run);break;case a.pause:console.log("pause");break;case a.run:break;case a.win:1==this._model.level?(this._model.startLevel2(),this.gotoState(a.start)):s.default.show(u.default.Path,null,{immediately:!0});break;case a.lose:s.default.show(l.default.Path,null,{immediately:!0})}},t.prototype.onClickSetting=function(){s.default.show(p.default.Path)},t.prototype.onClickItem=function(e,t){s.default.show(d.default.Path,{itemId:t,isShare:!0},{immediately:!0})},i([g(c.default)],t.prototype,"carMng",void 0),i([g(cc.Label)],t.prototype,"timeLab",void 0),i([g(cc.Node)],t.prototype,"itemsNode",void 0),i([_],t)}(cc.Component);n.default=b,function(e){e[e.start=0]="start",e[e.pause=1]="pause",e[e.run=2]="run",e[e.win=3]="win",e[e.lose=4]="lose"}(a||(a={})),cc._RF.pop()},{"../../core/EventManager":"EventManager","../../core/PopupManager":"PopupManager","../CustomEventType":"CustomEventType","../popups/GameChoseCarRemove":"GameChoseCarRemove","../popups/GameLose":"GameLose","../popups/GameSetting":"GameSetting","../popups/GameUseItem":"GameUseItem","../popups/GameWin":"GameWin","./GameCarMng":"GameCarMng","./GameModel":"GameModel"}],GeometryUtil:[function(e,t,n){"use strict";cc._RF.push(t,"aeb79QTOtpMALa1FDHVgonp","GeometryUtil"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){}return e.pointOnLine=function(e,t,n){var o=n.sub(t),r=e.sub(t),i=0===o.cross(r).mag(),a=e.x>=Math.min(t.x,n.x)&&e.x<=Math.max(t.x,n.x)&&e.y>=Math.min(t.y,n.y)&&e.y<=Math.max(t.y,n.y);return i&&a},e.pointInTriangle=function(e,t,n,o){function r(e,t,n,o){var r=n.sub(t),i=o.sub(t),a=e.sub(t),c=r.cross(i),s=r.cross(a);return c.dot(s)>=0}return r(e,t,n,o)&&r(e,n,o,t)&&r(e,o,t,n)},e.pointLineDistance=function(e,t,n){var o=n.sub(t),r=e.sub(t),i=cc.Vec3.angle(o,r),a=r.mag();return Math.sin(i)*a},e}();n.default=o,cc._RF.pop()},{}],ImageUtil:[function(e,t,n){"use strict";cc._RF.push(t,"24dc1M+91dNJ4Rf8evARs5H","ImageUtil"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){}return e.getTrim=function(e,t,n){var o,r,i,a=0,c=0,s=4*t;e:for(a=0;a<t;a++)for(c=0;c<n;c++)if(0!==e[s*c+4*a+3])break e;o=a;e:for(a=t-1;a>=0;a--)for(c=0;c<n;c++)if(0!==e[s*c+4*a+3])break e;r=a+1;e:for(a=0;a<n;a++)for(c=0;c<t;c++)if(0!==e[s*a+4*c+3])break e;i=a;e:for(a=n-1;a>=0;a--)for(c=0;c<t;c++)if(0!==e[s*a+4*c+3])break e;return{minX:o,maxX:r,minY:i,maxY:a+1}},e.getPixelsData=function(e){if(!window||!window.document)return null;var t=document.createElement("canvas"),n=t.getContext("2d"),o=e.width,r=e.height;t.width=o,t.height=r;var i=e.getHtmlElementObj();n.drawImage(i,0,0,o,r);var a=n.getImageData(0,0,o,r);return i.remove(),t.remove(),new Uint8Array(a.data)},e.getPixelColor=function(t,n,o){if(!window||!window.document)return null;var r=e.getPixelsData(t),i=4*t.width*Math.floor(o)+4*Math.floor(n),a=r.slice(i,i+4);return cc.color(a[0],a[1],a[2],a[3])},e.imageToBase64=function(e,t){return new Promise(function(n){var o,r=null===(o=/\.png|\.jpg|\.jpeg/.exec(e))||void 0===o?void 0:o[0];if([".png",".jpg",".jpeg"].includes(r)){var i=document.createElement("canvas"),a=i.getContext("2d"),c=new Image;c.src=e,c.onload=function(){i.height=c.height,i.width=c.width,a.drawImage(c,0,0),r=".jpg"===r?"jpeg":r.replace(".","");var e=i.toDataURL("image/"+r);t&&t(e),n(e),c.remove(),i.remove()}}else console.warn("Not a jpg/jpeg or png resource!"),t&&t(null),n(null)})},e.base64ToCCTexture=function(e){if(!window||!window.document)return null;var t=new Image;t.src=e;var n=new cc.Texture2D;return n.initWithElement(t),t.remove(),n},e}();n.default=o,cc._RF.pop()},{}],InstanceEvent:[function(e,t,n){"use strict";cc._RF.push(t,"05e39CsG+FAxZzx0apN+R3a","InstanceEvent"),Object.defineProperty(n,"__esModule",{value:!0}),n.InstanceEvent=void 0;var o=function(){function e(){this.events=null,this.onceEvents=null,this.events=new Array,this.onceEvents=new Array}return e.prototype.on=function(e,t){this.events.push({callback:e,target:t})},e.prototype.once=function(e,t){this.onceEvents.push({callback:e,target:t})},e.prototype.off=function(e,t){for(var n=0;n<this.events.length;n++)this.events[n].callback!==e||t&&this.events[n].target!==t||this.events.splice(n,1);for(n=0;n<this.onceEvents.length;n++)this.onceEvents[n].callback!==e||t&&this.onceEvents[n].target!==t||this.onceEvents.splice(n,1)},e.prototype.emit=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=[],o=0;o<this.events.length;o++)n.push(this.events[o].callback.apply(this.events[o].target,e));for(o=0;o<this.onceEvents.length;o++)n.push(this.onceEvents[o].callback.apply(this.onceEvents[o].target,e));return this.onceEvents.length=0,Promise.all(n)},e.prototype.removeAll=function(){this.events.length=0,this.onceEvents.length=0},e}();n.InstanceEvent=o,cc._RF.pop()},{}],LoadingTip:[function(e,t,n){"use strict";cc._RF.push(t,"9584flCXVJMUqClH+qLj+EC","LoadingTip");var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,u=(a.executionOrder,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.main=null,t}var n;return r(t,e),n=t,t.prototype.onLoad=function(){this.init()},t.prototype.onDestroy=function(){this.release()},t.prototype.init=function(){n.instance=this,this.reset()},t.prototype.release=function(){n.instance&&(n.instance=null)},t.prototype.reset=function(){this.main.active=!1},t.prototype.show=function(){this.main.active=!0},t.prototype.hide=function(){this.main.active=!1},t.show=function(){this.instance&&this.instance.show()},t.hide=function(){this.instance&&this.instance.hide()},t.instance=null,i([s({type:cc.Node,tooltip:!1})],t.prototype,"main",void 0),n=i([c],t)}(cc.Component));n.default=u,cc._RF.pop()},{}],Main:[function(e,t,n){"use strict";cc._RF.push(t,"73debWXmJZJqbW72BzzUia6","Main");var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=e("../core/SceneNavigator"),c=cc._decorator,s=c.ccclass,u=(c.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.onClickStart=function(){a.default.go("Game")},i([s],t)}(cc.Component));n.default=u,cc._RF.pop()},{"../core/SceneNavigator":"SceneNavigator"}],MathUtil:[function(e,t,n){"use strict";cc._RF.push(t,"4decaALYrFHY67N5M180Dt0","MathUtil"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){}return e.getRandomInt=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=1),Math.floor(Math.random()*(t-e)+e)},e.getPseudoRandomInt=function(e,t){return Math.ceil((9301*e+49297)%233280/233280*t)},e.getAngle=function(e,t){return Math.atan((t.y-e.y)/(t.x-e.x))},e.getDistance=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},e.angleToRadian=function(e){return e*Math.PI/180},e.addSafely=function(e,t){var n=(e.toString().split(".")[1]||"").length,o=(t.toString().split(".")[1]||"").length,r=Math.pow(10,Math.max(n,o));return(e*r+t*r)/r},e}();n.default=o,cc._RF.pop()},{}],NodeUtil:[function(e,t,n){"use strict";cc._RF.push(t,"55cdbUdSaNNaqWUdZx+xknk","NodeUtil"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){}return e.getRelativePosition=function(e,t){var n=(e.getParent()||e).convertToWorldSpaceAR(e.getPosition());return t.convertToNodeSpaceAR(n)},e.isPosOnNodeRect=function(e,t){return t.getBoundingBoxToWorld().contains(e)},e.areNodesOverlap=function(e,t,n){void 0===n&&(n=!1);var o=e.getBoundingBoxToWorld(),r=t.getBoundingBoxToWorld();return n?o.containsRect(r):o.intersects(r)},e.getNodeSelfBoundingBoxToWorld=function(e){e.parent._updateWorldMatrix();var t=e.getContentSize(),n=t.width,o=t.height,r=e.getAnchorPoint(),i=cc.rect(-r.x*n,-r.y*o,n,o);return e._calculWorldMatrix(),i.transformMat4(i,e._worldMatrix),i},e}();n.default=o,cc._RF.pop()},{}],ObjectUtil:[function(e,t,n){"use strict";cc._RF.push(t,"4cfb3aTbO1CNpcW8SypPvaS","ObjectUtil"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){}return e.isObject=function(e){return"[object Object]"===Object.prototype.toString.call(e)},e.deepCopy=function(t){if(t instanceof Map){var n=new Map;return t.forEach(function(t,o){n.set(o,e.deepCopy(t))}),n}if(t instanceof Set){var o=new Set;return t.forEach(function(t){o.add(e.deepCopy(t))}),o}if(t instanceof Array){for(var r=[],i=0,a=t.length;i<a;i++)r[i]=e.deepCopy(t[i]);return r}if(t instanceof Object){for(var c in r={},t)t.hasOwnProperty(c)&&(r[c]=e.deepCopy(t[c]));return r}return t instanceof Date?(new Date).setTime(t.getTime()):null==t||"object"!=typeof t?t:(console.warn("\u4e0d\u652f\u6301\u7684\u7c7b\u578b\uff1a"+t),null)},e.copy=function(e){return JSON.parse(JSON.stringify(e))},e}();n.default=o,cc._RF.pop()},{}],PlayerModel:[function(e,t,n){"use strict";cc._RF.push(t,"42d9ecoUQtLaYdWKEgPwojt","PlayerModel"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./SettingModel"),r=function(){function e(){this.setting=new o.default,this.init()}return Object.defineProperty(e,"ins",{get:function(){return this._ins||(this._ins=new e),this._ins},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e._ins=null,e}();n.default=r,cc._RF.pop()},{"./SettingModel":"SettingModel"}],PopupBase:[function(e,t,n){"use strict";cc._RF.push(t,"f115dqpRGZAFrFjoIOTspy0","PopupBase");var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(r,i){function a(e){try{s(o.next(e))}catch(t){i(t)}}function c(e){try{s(o.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,c)}s((o=o.apply(e,t||[])).next())})},c=this&&this.__generator||function(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(e){return function(t){return s([e,t])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,u=s.ccclass,l=s.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.background=null,t.main=null,t.animationDuration=.3,t.blocker=null,t.options=null,t.finishCallback=null,t}return r(t,e),t.prototype.show=function(e,t){return a(this,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:return this.options=e,this.init(e),this.updateDisplay(e),this.onBeforeShow?[4,this.onBeforeShow()]:[3,2];case 1:n.sent(),n.label=2;case 2:return null==t&&(t=t<0?0:this.animationDuration),[4,this.playShowAnimation(t)];case 3:return n.sent(),this.onAfterShow&&this.onAfterShow(),[2]}})})},t.prototype.hide=function(e,t){return void 0===e&&(e=!1),a(this,void 0,void 0,function(){var n,o;return c(this,function(r){switch(r.label){case 0:return n=this.node,0!==t&&((o=this.blocker)||((o=this.blocker=new cc.Node("blocker")).addComponent(cc.BlockInputEvents),o.setParent(n),o.setContentSize(n.getContentSize())),o.active=!0),this.onBeforeHide?[4,this.onBeforeHide(e)]:[3,2];case 1:r.sent(),r.label=2;case 2:return null==t&&(t=t<0?0:this.animationDuration),[4,this.playHideAnimation(t)];case 3:return r.sent(),this.blocker&&(this.blocker.active=!1),n.active=!1,this.onAfterHide&&this.onAfterHide(e),this.finishCallback&&this.finishCallback(e),[2]}})})},t.prototype.playShowAnimation=function(e){var t=this;return new Promise(function(n){var o=t.background,r=t.main;t.node.active=!0,o.active=!0,o.opacity=0,r.active=!0,r.scale=.5,r.opacity=0,cc.tween(o).to(.5*e,{opacity:150}).start(),cc.tween(r).to(e,{scale:1,opacity:255},{easing:"backOut"}).call(n).start()})},t.prototype.playHideAnimation=function(e){var t=this;return new Promise(function(n){cc.tween(t.background).delay(.5*e).to(.5*e,{opacity:0}).start(),cc.tween(t.main).to(e,{scale:.5,opacity:0},{easing:"backIn"}).call(n).start()})},t.prototype.init=function(){},t.prototype.updateDisplay=function(){},t.prototype.onBeforeShow=function(){return new Promise(function(e){return e()})},t.prototype.onAfterShow=function(){},t.prototype.onBeforeHide=function(){return new Promise(function(e){return e()})},t.prototype.onAfterHide=function(){},t.prototype.onSuspended=function(){return new Promise(function(e){return e()})},i([l({type:cc.Node,tooltip:!1})],t.prototype,"background",void 0),i([l({type:cc.Node,tooltip:!1})],t.prototype,"main",void 0),i([u],t)}(cc.Component);n.default=p,cc._RF.pop()},{}],PopupManager:[function(e,t,n){"use strict";cc._RF.push(t,"857a2Z1XRJNJ5h+cvypIotI","PopupManager");var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(r,i){function a(e){try{s(o.next(e))}catch(t){i(t)}}function c(e){try{s(o.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,c)}s((o=o.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(e){return function(t){return s([e,t])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var i,a,c=e("./components/popups/PopupBase");(function(e){e[e.Once=1]="Once",e[e.Normal=2]="Normal",e[e.Frequent=3]="Frequent"})(i||(i={})),function(e){e[e.Done=1]="Done",e[e.Failed=2]="Failed",e[e.Waiting=3]="Waiting"}(a||(a={}));var s=function(){function e(){}return Object.defineProperty(e,"prefabCache",{get:function(){return this._prefabCache},enumerable:!1,configurable:!0}),Object.defineProperty(e,"nodeCache",{get:function(){return this._nodeCache},enumerable:!1,configurable:!0}),Object.defineProperty(e,"current",{get:function(){return this._current},enumerable:!1,configurable:!0}),Object.defineProperty(e,"queue",{get:function(){return this._queue},enumerable:!1,configurable:!0}),Object.defineProperty(e,"suspended",{get:function(){return this._suspended},enumerable:!1,configurable:!0}),Object.defineProperty(e,"container",{get:function(){return this._container||cc.Canvas.instance.node},set:function(e){this._container=e},enumerable:!1,configurable:!0}),Object.defineProperty(e,"CacheMode",{get:function(){return i},enumerable:!1,configurable:!0}),Object.defineProperty(e,"ShowResultType",{get:function(){return a},enumerable:!1,configurable:!0}),e.show=function(e,t,n){var i=this;return new Promise(function(s){return o(i,void 0,void 0,function(){var i,u,l,p=this;return r(this,function(f){switch(f.label){case 0:return n=this.parseParams(n),this._current||this.locked?n&&n.immediately?(this.locked=!1,[4,this.suspend()]):[3,2]:[3,3];case 1:return f.sent(),[3,3];case 2:return this.push(e,t,n),s(a.Waiting),[2];case 3:return this._current={path:e,options:t,params:n},i=this.getNodeFromCache(e),cc.isValid(i)?[3,5]:(this.loadStartCallback&&this.loadStartCallback(),[4,this.load(e)]);case 4:if(u=f.sent(),this.loadFinishCallback&&this.loadFinishCallback(),!cc.isValid(u))return cc.warn("[PopupManager]","\u5f39\u7a97\u52a0\u8f7d\u5931\u8d25",e),this._current=null,s(a.Failed),[2];i=cc.instantiate(u),f.label=5;case 5:return(l=i.getComponent(c.default))?(this._current.popup=l,this._current.node=i,i.setParent(this.container),i.setSiblingIndex(cc.macro.MAX_ZINDEX),l.finishCallback=function(t){return o(p,void 0,void 0,function(){var o=this;return r(this,function(r){switch(r.label){case 0:return t?[2]:(this.locked=this._suspended.length>0||this._queue.length>0,this.recycle(e,i,n.mode),this._current=null,s(a.Done),[4,new Promise(function(e){cc.Canvas.instance.scheduleOnce(e,o.interval)})]);case 1:return r.sent(),this.next(),[2]}})})},l.show(t),[2]):(cc.warn("[PopupManager]","\u672a\u627e\u5230\u5f39\u7a97\u7ec4\u4ef6",e),this._current=null,s(a.Failed),[2])}})})})},e.hide=function(){cc.isValid(this._current.popup)&&this._current.popup.hide()},e.getNodeFromCache=function(e){var t=this._nodeCache;if(t.has(e)){var n=t.get(e);if(cc.isValid(n))return n;t.delete(e)}var o=this._prefabCache;if(o.has(e)){var r=o.get(e);if(cc.isValid(r))return r.addRef(),cc.instantiate(r);o.delete(e)}return null},e.next=function(){if(!(this._current||0===this._suspended.length&&0===this._queue.length)){var e=null;if(e=this._suspended.length>0?this._suspended.shift():this._queue.shift(),this.locked=!1,cc.isValid(e.popup))return this._current=e,e.node.setParent(this.container),void e.popup.show(e.options);this.show(e.path,e.options,e.params)}},e.push=function(e,t,n){this._current||this.locked?(this._queue.push({path:e,options:t,params:n}),this._queue.sort(function(e,t){return e.params.priority-t.params.priority})):this.show(e,t,n)},e.suspend=function(){return o(this,void 0,void 0,function(){var e;return r(this,function(t){switch(t.label){case 0:return this._current?(e=this._current,this._suspended.push(e),[4,e.popup.onSuspended()]):[2];case 1:return t.sent(),[4,e.popup.hide(!0)];case 2:return t.sent(),this._current=null,[2]}})})},e.recycle=function(e,t,n){switch(n){case i.Once:this._nodeCache.delete(e),t.destroy(),this.release(e);break;case i.Normal:this._nodeCache.delete(e),t.destroy();break;case i.Frequent:t.removeFromParent(!1),this._nodeCache.set(e,t)}},e.load=function(e){var t=this;return new Promise(function(n){var o=t._prefabCache;if(o.has(e)){var r=o.get(e);if(cc.isValid(r))return void n(r);o.delete(e)}cc.resources.load(e,function(t,r){t?n(null):(o.set(e,r),n(r))})})},e.release=function(e){var t=this._nodeCache,n=t.get(e);n&&(t.delete(e),cc.isValid(n)&&n.destroy(),n=null);var o=this._prefabCache,r=o.get(e);r&&(r.refCount<=1&&o.delete(e),r.decRef(),r=null)},e.parseParams=function(e){return null==e?new u:"[object Object]"!==Object.prototype.toString.call(e)?(cc.warn("[PopupManager]","\u5f39\u7a97\u53c2\u6570\u65e0\u6548\uff0c\u4f7f\u7528\u9ed8\u8ba4\u53c2\u6570"),new u):(null==e.mode&&(e.mode=i.Normal),null==e.priority&&(e.priority=0),null==e.immediately&&(e.immediately=!1),e)},e._prefabCache=new Map,e._nodeCache=new Map,e._current=null,e._queue=[],e._suspended=[],e.locked=!1,e._container=null,e.interval=.05,e.loadStartCallback=null,e.loadFinishCallback=null,e}();n.default=s;var u=function(){this.mode=i.Normal,this.priority=0,this.immediately=!1};cc._RF.pop()},{"./components/popups/PopupBase":"PopupBase"}],PromiseUtil:[function(e,t,n){"use strict";cc._RF.push(t,"7c127O4BelOEJ0va+YPLUah","PromiseUtil"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){}return e.sleep=function(e){return new Promise(function(t){return cc.Canvas.instance.scheduleOnce(t,e)})},e}();n.default=o,cc._RF.pop()},{}],SceneNavigator:[function(e,t,n){"use strict";cc._RF.push(t,"dde03W0qO5NOJQoxTzLwc7Q","SceneNavigator"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){}return Object.defineProperty(e,"home",{get:function(){return this._home},enumerable:!1,configurable:!0}),Object.defineProperty(e,"history",{get:function(){return this._history},enumerable:!1,configurable:!0}),Object.defineProperty(e,"curScene",{get:function(){return this._curScene},enumerable:!1,configurable:!0}),Object.defineProperty(e,"param",{get:function(){return this._param},enumerable:!1,configurable:!0}),e.setHome=function(e){this._home=e,this._history=[e],this._curScene=e},e.goHome=function(e,t,n){var o=this;this._param=null;var r=this._home;this._curScene!==r&&cc.director.loadScene(r,function(){t&&(o._history.length=0),o._history.push(r),o._curScene=r,o._param=e||null,n&&n()})},e.go=function(e,t,n){var o=this;this._param=null,cc.director.loadScene(e,function(){o._history.push(e),o._curScene=e,o._param=t||null,n&&n()})},e.back=function(e,t){var n=this;if(!(this._history.length<1)){this._param=null;var o=this._history,r=o[o.length-2];cc.director.loadScene(r,function(){o.pop(),n._curScene=r,n._param=e||null,t&&t()})}},e._home=null,e._history=[],e._curScene=null,e._param=null,e}();n.default=o,cc._RF.pop()},{}],SettingModel:[function(e,t,n){"use strict";cc._RF.push(t,"fbcdfEuckxJAZjz5Q++9rHi","SettingModel"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../core/AudioPlayer"),r=function(){function e(){this._music=!0,this._effect=!0,this._shock=!0}return Object.defineProperty(e.prototype,"music",{get:function(){return this._music},set:function(e){this._music=e,e?o.default.setMusicVolume(1):o.default.setMusicVolume(0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"effect",{get:function(){return this._effect},set:function(e){this._effect=e,e?o.default.setEffectVolume(1):o.default.setEffectVolume(0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shock",{get:function(){return this._shock},set:function(e){this._shock=e},enumerable:!1,configurable:!0}),e}();n.default=r,cc._RF.pop()},{"../../core/AudioPlayer":"AudioPlayer"}],StorageUtil:[function(e,t,n){"use strict";cc._RF.push(t,"d48cd0WtsJDRJOp/8A4XMho","StorageUtil"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){}return e.set=function(e,t){"object"==typeof t?cc.sys.localStorage.setItem(e,JSON.stringify(t)):cc.sys.localStorage.setItem(e,t)},e.get=function(e,t){void 0===t&&(t=!0);var n=cc.sys.localStorage.getItem(e);if(n){if(t)try{return JSON.parse(n)}catch(o){return n}return n}return null},e.remove=function(e){cc.sys.localStorage.removeItem(e)},e}();n.default=o,cc._RF.pop()},{}],TimeUtil:[function(e,t,n){"use strict";cc._RF.push(t,"48b69XZILlEzJX3Tl7x6Yp8","TimeUtil"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){}return e.getTimestamp=function(){return(new Date).getTime()},e.getDate=function(){return(new Date).toLocaleDateString()},e.getTargetTimestamp=function(e,t,n){void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0);var o=new Date((new Date).toLocaleDateString()).getTime();return new Date(o+1e3*(3600*e+60*t+n)).getTime()},e.msToHMS=function(e,t,n){void 0===t&&(t=":"),void 0===n&&(n=!0);var o=Math.floor(e/36e5),r=Math.floor((e-36e5*o)/6e4),i=Math.floor((e-36e5*o-6e4*r)/1e3);return(0!==o||n?o.toString().padStart(2,"0")+":":"")+r.toString().padStart(2,"0")+t+i.toString().padStart(2,"0")},e}();n.default=o,cc._RF.pop()},{}]},{},["AudioPlayer","EventManager","InstanceEvent","PopupManager","SceneNavigator","LoadingTip","PopupBase","DebugUtil","GeometryUtil","ImageUtil","MathUtil","NodeUtil","ObjectUtil","PromiseUtil","StorageUtil","TimeUtil","CustomEventType","Entry","Main","PlayerModel","SettingModel","Game","GameCar","GameCarMng","GameDataGen","GameModel","GameUtils","GameCancel","GameChoseCarRemove","GameLose","GameSetting","GameUseItem","GameWin"]);